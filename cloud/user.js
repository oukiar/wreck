//THIS IS A MODULE MADE FOR REGISTRATION AND VALIDATON OF THE FORMS FOR THE SUBSCRIBTION AND//FOR THE LOGIN OF USERS VIA WRECK THE MEDIA AND NOT FACEBOOK!//CHEERS!// COPYRIGHTS NEURONS ART & TECHNOLOGY SUI GENERIS!exports.logout = function(req, res) {    Parse.User.logOut();    res.redirect('/');  };  exports.login = function(req, res){res.render('loginWreck.ejs', {yougotit: "Wreck The Media"});};exports.logins = function(req, res){  Parse.User.logIn(req.body.username, req.body.password).then(function(user) {	  res.redirect('/profile');  }, function(error) {    // Show the error message and let the user try again    res.render('loginWreck',{yougotit: "Invalid user or password!"});  });}; // Signs up a new user and data validation exports.subscribe = function(req, res) {    var reg_password = req.body.reg_password; 	var reg_rtpassword = req.body.reg_rtpassword;    var reg_username = req.body.reg_username;    var reg_email = req.body.reg_email;    var atpos = reg_email.indexOf("@");    var dotpos = reg_email.lastIndexOf(".");	var wreckInterest = ["yG9Y8HDNem"];	var wreckId = "yG9Y8HDNem";	//not null name 	if (reg_username == "" || reg_username == null || reg_username.length<4){ 		res.redirect('/register');   //not null username	}else if(reg_email == "" || reg_email == null){		res.redirect('/register');  //valid email	}else if(atpos < 1 || ( dotpos - atpos < 2 )) {			 res.redirect('/register');	//not null password	}else if(reg_password == "" || reg_password == null){		res.redirect('/register');   //not null Retype password	}else if(reg_rtpassword == "" || reg_rtpassword == null){		res.redirect('/register');		//password match	}else if (reg_password === reg_rtpassword){	//Check if User already exists	signUpQuery = new Parse.Query(Parse.User);	signUpQuery.equalTo("username", reg_email);	signUpQuery.find({		success: function(results){                                 if (results.length > 0){                                                       res.redirect('/register');                         }else{ 					      var user = new Parse.User();	    user.set('username', reg_username);	user.set('name', reg_username);	user.set('email', reg_email);    user.set('password', reg_password);	user.set('Interests', wreckInterest);	user.set('Fix', "wreck");    user.signUp().then(function(user) { 	        res.redirect('/profile');    }, function(error) {      // Show the error message and let the user try again      res.render('signup', { flash: error.message });	  });    }}});	}else{		res.redirect('/register');		    }}      